/* Breathing - Default idle state */
@keyframes orbBreathe {
  0%, 100% { transform: scale(1); opacity: 0.92; }
  50% { transform: scale(1.03); opacity: 1; }
}

/* Slow subtle pulse glow for idle state */
@keyframes orbIdlePulse {
  0%, 100% { 
    box-shadow: 
      inset -10% -10% 20% rgba(0, 0, 0, 0.08),
      inset 5% 5% 15% rgba(255, 255, 255, 0.5),
      0 10% 25% rgba(0, 0, 0, 0.1),
      0 0 40px var(--orbGlowColor, rgba(250, 246, 241, 0.3));
  }
  50% { 
    box-shadow: 
      inset -10% -10% 20% rgba(0, 0, 0, 0.08),
      inset 5% 5% 15% rgba(255, 255, 255, 0.5),
      0 10% 25% rgba(0, 0, 0, 0.1),
      0 0 60px var(--orbGlowColor, rgba(250, 246, 241, 0.5));
  }
}

/* Thinking - AI processing */
@keyframes orbThink {
  0%, 100% { filter: brightness(1); }
  50% { filter: brightness(1.15); }
}

/* Celebrating - Task complete */
@keyframes orbCelebrate {
  0% { transform: scale(1); box-shadow: 0 0 0 rgba(255, 245, 230, 0); }
  50% { transform: scale(1.08); box-shadow: 0 0 30px rgba(255, 245, 230, 0.6); }
  100% { transform: scale(1); box-shadow: 0 0 0 rgba(255, 245, 230, 0); }
}

/* Focus - Steady concentration */
@keyframes orbFocus {
  0%, 100% { transform: scale(1.02); filter: brightness(1.05); }
  50% { transform: scale(1.02); filter: brightness(1.1); }
}

/* Morning - Warm wake */
@keyframes orbMorning {
  0%, 100% { transform: scale(1); filter: brightness(1) saturate(1); }
  50% { transform: scale(1.02); filter: brightness(1.1) saturate(1.1); }
}

/* Evening - Cool rest */
@keyframes orbEvening {
  0%, 100% { transform: scale(1); opacity: 0.85; }
  50% { transform: scale(0.98); opacity: 0.9; }
}

/* Evolving - Stage change */
@keyframes orbEvolve {
  0% { transform: scale(1) rotate(0deg); filter: brightness(1); }
  50% { transform: scale(1.1) rotate(5deg); filter: brightness(1.3); }
  100% { transform: scale(1) rotate(0deg); filter: brightness(1); }
}

/* Base animation classes */
.orb-idle { animation: orbBreathe 4s ease-in-out infinite, orbIdlePulse 6s ease-in-out infinite; }
.orb-thinking { animation: orbThink 1.5s ease-in-out infinite; }
.orb-celebrating { animation: orbCelebrate 1.5s ease-out forwards; }
.orb-focused { animation: orbFocus 3s ease-in-out infinite; }
.orb-morning { animation: orbMorning 5s ease-in-out infinite; }
.orb-evening { animation: orbEvening 6s ease-in-out infinite; }
.orb-evolving { animation: orbEvolve 2s ease-in-out forwards; }

/* Energy-based breathing speeds - Low energy (slower, calmer) */
.orb-idle-low { animation: orbBreathe 6s ease-in-out infinite; }
.orb-focused-low { animation: orbFocus 5s ease-in-out infinite; }

/* Energy-based breathing speeds - High energy (faster, more active) */
.orb-idle-high { animation: orbBreathe 2.5s ease-in-out infinite; }
.orb-focused-high { animation: orbFocus 2s ease-in-out infinite; }

/* Dark mode pulsing halo glow */
@keyframes orbDarkHaloGlow {
  0%, 100% { 
    box-shadow: 
      0 0 50px rgba(160, 150, 135, 0.2),
      0 0 25px rgba(120, 110, 95, 0.12),
      inset 0 -20px 40px rgba(0,0,0,0.3),
      inset 0 10px 20px rgba(255,255,255,0.05);
  }
  50% { 
    box-shadow: 
      0 0 70px rgba(160, 150, 135, 0.3),
      0 0 40px rgba(120, 110, 95, 0.2),
      inset 0 -20px 40px rgba(0,0,0,0.3),
      inset 0 10px 20px rgba(255,255,255,0.05);
  }
}

.orb-dark {
  animation: orbDarkHaloGlow 4s ease-in-out infinite;
}

/* Combine dark halo with other animations */
.orb-dark.orb-idle { 
  animation: orbBreathe 4s ease-in-out infinite, orbDarkHaloGlow 4s ease-in-out infinite; 
}
.orb-dark.orb-idle-low { 
  animation: orbBreathe 6s ease-in-out infinite, orbDarkHaloGlow 5s ease-in-out infinite; 
}
.orb-dark.orb-idle-high { 
  animation: orbBreathe 2.5s ease-in-out infinite, orbDarkHaloGlow 3s ease-in-out infinite; 
}
.orb-dark.orb-thinking { 
  animation: orbThink 1.5s ease-in-out infinite, orbDarkHaloGlow 2s ease-in-out infinite; 
}
.orb-dark.orb-focused { 
  animation: orbFocus 3s ease-in-out infinite, orbDarkHaloGlow 4s ease-in-out infinite; 
}
.orb-dark.orb-focused-low { 
  animation: orbFocus 5s ease-in-out infinite, orbDarkHaloGlow 5s ease-in-out infinite; 
}
.orb-dark.orb-focused-high { 
  animation: orbFocus 2s ease-in-out infinite, orbDarkHaloGlow 2.5s ease-in-out infinite; 
}
.orb-dark.orb-morning { 
  animation: orbMorning 5s ease-in-out infinite, orbDarkHaloGlow 5s ease-in-out infinite; 
}
.orb-dark.orb-evening { 
  animation: orbEvening 6s ease-in-out infinite, orbDarkHaloGlow 6s ease-in-out infinite; 
}

/* Mystical rotating line texture */
.orb-texture {
  background: 
    repeating-linear-gradient(
      0deg,
      transparent 0px,
      transparent 3px,
      rgba(255, 255, 255, 0.015) 3px,
      rgba(255, 255, 255, 0.015) 4px
    ),
    repeating-linear-gradient(
      90deg,
      transparent 0px,
      transparent 8px,
      rgba(255, 255, 255, 0.01) 8px,
      rgba(255, 255, 255, 0.01) 9px
    );
  animation: orbTextureRotate 120s linear infinite;
  opacity: 0.6;
  mix-blend-mode: overlay;
  pointer-events: none;
}

@keyframes orbTextureRotate {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Secondary slower counter-rotation for depth */
.orb-texture::after {
  content: '';
  position: absolute;
  inset: -20%;
  border-radius: 50%;
  background: 
    repeating-linear-gradient(
      45deg,
      transparent 0px,
      transparent 12px,
      rgba(200, 180, 150, 0.02) 12px,
      rgba(200, 180, 150, 0.02) 13px
    );
  animation: orbTextureCounter 180s linear infinite reverse;
  mix-blend-mode: soft-light;
}

@keyframes orbTextureCounter {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Dark mode: slightly more visible lines */
.orb-texture.dark {
  opacity: 0.8;
  background: 
    repeating-linear-gradient(
      0deg,
      transparent 0px,
      transparent 2px,
      rgba(255, 250, 240, 0.025) 2px,
      rgba(255, 250, 240, 0.025) 3px
    ),
    repeating-linear-gradient(
      60deg,
      transparent 0px,
      transparent 6px,
      rgba(255, 250, 240, 0.015) 6px,
      rgba(255, 250, 240, 0.015) 7px
    );
}

/* Floating particle specs */
.orb-particles {
  background-image: 
    radial-gradient(1px 1px at 20% 30%, rgba(255,255,255,0.3) 0%, transparent 100%),
    radial-gradient(1px 1px at 60% 70%, rgba(255,255,255,0.2) 0%, transparent 100%),
    radial-gradient(1px 1px at 80% 20%, rgba(255,255,255,0.25) 0%, transparent 100%),
    radial-gradient(1px 1px at 40% 80%, rgba(255,255,255,0.2) 0%, transparent 100%),
    radial-gradient(1px 1px at 70% 40%, rgba(255,255,255,0.15) 0%, transparent 100%);
  animation: orbParticlesDrift 30s ease-in-out infinite alternate;
  pointer-events: none;
}

@keyframes orbParticlesDrift {
  0% { transform: rotate(0deg) scale(1); opacity: 0.4; }
  50% { transform: rotate(10deg) scale(1.02); opacity: 0.6; }
  100% { transform: rotate(-5deg) scale(0.98); opacity: 0.5; }
}
